{
	"id": "83af4bb4-0995-49ba-945b-55376dc79558",
	"prevId": "187c157c-3285-460e-b78b-c4b49793cafe",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.AiModel": {
			"name": "AiModel",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"model_id": {
					"name": "model_id",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"provider": {
					"name": "provider",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": true
				},
				"type": {
					"name": "type",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"cost": {
					"name": "cost",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"is_premium": {
					"name": "is_premium",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": false
				},
				"is_pro": {
					"name": "is_pro",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": false
				},
				"is_enabled": {
					"name": "is_enabled",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"AiModel_model_id_unique": {
					"name": "AiModel_model_id_unique",
					"nullsNotDistinct": false,
					"columns": ["model_id"]
				}
			}
		},
		"public.Chat": {
			"name": "Chat",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"userId": {
					"name": "userId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"visibility": {
					"name": "visibility",
					"type": "varchar",
					"primaryKey": false,
					"notNull": true,
					"default": "'private'"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Chat_userId_User_id_fk": {
					"name": "Chat_userId_User_id_fk",
					"tableFrom": "Chat",
					"tableTo": "User",
					"columnsFrom": ["userId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.Document": {
			"name": "Document",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"content": {
					"name": "content",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"text": {
					"name": "text",
					"type": "varchar",
					"primaryKey": false,
					"notNull": true,
					"default": "'text'"
				},
				"userId": {
					"name": "userId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Document_userId_User_id_fk": {
					"name": "Document_userId_User_id_fk",
					"tableFrom": "Document",
					"tableTo": "User",
					"columnsFrom": ["userId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {
				"Document_id_createdAt_pk": {
					"name": "Document_id_createdAt_pk",
					"columns": ["id", "createdAt"]
				}
			},
			"uniqueConstraints": {}
		},
		"public.Message_v2": {
			"name": "Message_v2",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"chatId": {
					"name": "chatId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"role": {
					"name": "role",
					"type": "varchar",
					"primaryKey": false,
					"notNull": true
				},
				"parts": {
					"name": "parts",
					"type": "json",
					"primaryKey": false,
					"notNull": true
				},
				"attachments": {
					"name": "attachments",
					"type": "json",
					"primaryKey": false,
					"notNull": true
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Message_v2_chatId_Chat_id_fk": {
					"name": "Message_v2_chatId_Chat_id_fk",
					"tableFrom": "Message_v2",
					"tableTo": "Chat",
					"columnsFrom": ["chatId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.Message": {
			"name": "Message",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"chatId": {
					"name": "chatId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"role": {
					"name": "role",
					"type": "varchar",
					"primaryKey": false,
					"notNull": true
				},
				"content": {
					"name": "content",
					"type": "json",
					"primaryKey": false,
					"notNull": true
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Message_chatId_Chat_id_fk": {
					"name": "Message_chatId_Chat_id_fk",
					"tableFrom": "Message",
					"tableTo": "Chat",
					"columnsFrom": ["chatId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.Stream": {
			"name": "Stream",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"chatId": {
					"name": "chatId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Stream_chatId_Chat_id_fk": {
					"name": "Stream_chatId_Chat_id_fk",
					"tableFrom": "Stream",
					"tableTo": "Chat",
					"columnsFrom": ["chatId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {
				"Stream_id_pk": {
					"name": "Stream_id_pk",
					"columns": ["id"]
				}
			},
			"uniqueConstraints": {}
		},
		"public.Subscription": {
			"name": "Subscription",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"userId": {
					"name": "userId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"tariff_slug": {
					"name": "tariff_slug",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": true
				},
				"payment_method_id": {
					"name": "payment_method_id",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"status": {
					"name": "status",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": false,
					"default": "'active'"
				},
				"auto_renew": {
					"name": "auto_renew",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": true
				},
				"start_date": {
					"name": "start_date",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"end_date": {
					"name": "end_date",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Subscription_userId_User_id_fk": {
					"name": "Subscription_userId_User_id_fk",
					"tableFrom": "Subscription",
					"tableTo": "User",
					"columnsFrom": ["userId"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.Suggestion": {
			"name": "Suggestion",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"documentId": {
					"name": "documentId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"documentCreatedAt": {
					"name": "documentCreatedAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				},
				"originalText": {
					"name": "originalText",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"suggestedText": {
					"name": "suggestedText",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"isResolved": {
					"name": "isResolved",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"userId": {
					"name": "userId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"createdAt": {
					"name": "createdAt",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Suggestion_userId_User_id_fk": {
					"name": "Suggestion_userId_User_id_fk",
					"tableFrom": "Suggestion",
					"tableTo": "User",
					"columnsFrom": ["userId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				},
				"Suggestion_documentId_documentCreatedAt_Document_id_createdAt_fk": {
					"name": "Suggestion_documentId_documentCreatedAt_Document_id_createdAt_fk",
					"tableFrom": "Suggestion",
					"tableTo": "Document",
					"columnsFrom": ["documentId", "documentCreatedAt"],
					"columnsTo": ["id", "createdAt"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {
				"Suggestion_id_pk": {
					"name": "Suggestion_id_pk",
					"columns": ["id"]
				}
			},
			"uniqueConstraints": {}
		},
		"public.Tariff": {
			"name": "Tariff",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"slug": {
					"name": "slug",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"type": {
					"name": "type",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"price_rub": {
					"name": "price_rub",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"price_stars": {
					"name": "price_stars",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"duration_days": {
					"name": "duration_days",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"request_limit": {
					"name": "request_limit",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"description": {
					"name": "description",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"is_active": {
					"name": "is_active",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"Tariff_slug_unique": {
					"name": "Tariff_slug_unique",
					"nullsNotDistinct": false,
					"columns": ["slug"]
				}
			}
		},
		"public.User": {
			"name": "User",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"email": {
					"name": "email",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": false
				},
				"password": {
					"name": "password",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": false
				},
				"googleId": {
					"name": "googleId",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"telegramId": {
					"name": "telegramId",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"start_param": {
					"name": "start_param",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": false
				},
				"utm_source": {
					"name": "utm_source",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"utm_medium": {
					"name": "utm_medium",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"utm_campaign": {
					"name": "utm_campaign",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"utm_content": {
					"name": "utm_content",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"balance": {
					"name": "balance",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"points": {
					"name": "points",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"spins_count": {
					"name": "spins_count",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"daily_streak": {
					"name": "daily_streak",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"last_daily_claim": {
					"name": "last_daily_claim",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": false
				},
				"last_reset_date": {
					"name": "last_reset_date",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": false
				},
				"last_visit": {
					"name": "last_visit",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": false,
					"default": "now()"
				},
				"is_active": {
					"name": "is_active",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": false
				},
				"is_admin": {
					"name": "is_admin",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": false
				},
				"has_paid": {
					"name": "has_paid",
					"type": "boolean",
					"primaryKey": false,
					"notNull": false,
					"default": false
				},
				"phone": {
					"name": "phone",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": false
				},
				"last_message_id": {
					"name": "last_message_id",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": false
				},
				"request_count": {
					"name": "request_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"default": 0
				},
				"selected_model": {
					"name": "selected_model",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": false,
					"default": "'model_gpt4omini'"
				},
				"preferences": {
					"name": "preferences",
					"type": "json",
					"primaryKey": false,
					"notNull": false
				},
				"name": {
					"name": "name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": false,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.UserConsent": {
			"name": "UserConsent",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"userId": {
					"name": "userId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"consent_type": {
					"name": "consent_type",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": true
				},
				"telegram_id": {
					"name": "telegram_id",
					"type": "varchar(32)",
					"primaryKey": false,
					"notNull": false
				},
				"email": {
					"name": "email",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"ip_address": {
					"name": "ip_address",
					"type": "varchar(45)",
					"primaryKey": false,
					"notNull": false
				},
				"user_agent": {
					"name": "user_agent",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"UserConsent_userId_User_id_fk": {
					"name": "UserConsent_userId_User_id_fk",
					"tableFrom": "UserConsent",
					"tableTo": "User",
					"columnsFrom": ["userId"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {}
		},
		"public.Vote_v2": {
			"name": "Vote_v2",
			"schema": "",
			"columns": {
				"chatId": {
					"name": "chatId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"messageId": {
					"name": "messageId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"isUpvoted": {
					"name": "isUpvoted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Vote_v2_chatId_Chat_id_fk": {
					"name": "Vote_v2_chatId_Chat_id_fk",
					"tableFrom": "Vote_v2",
					"tableTo": "Chat",
					"columnsFrom": ["chatId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				},
				"Vote_v2_messageId_Message_v2_id_fk": {
					"name": "Vote_v2_messageId_Message_v2_id_fk",
					"tableFrom": "Vote_v2",
					"tableTo": "Message_v2",
					"columnsFrom": ["messageId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {
				"Vote_v2_chatId_messageId_pk": {
					"name": "Vote_v2_chatId_messageId_pk",
					"columns": ["chatId", "messageId"]
				}
			},
			"uniqueConstraints": {}
		},
		"public.Vote": {
			"name": "Vote",
			"schema": "",
			"columns": {
				"chatId": {
					"name": "chatId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"messageId": {
					"name": "messageId",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"isUpvoted": {
					"name": "isUpvoted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"Vote_chatId_Chat_id_fk": {
					"name": "Vote_chatId_Chat_id_fk",
					"tableFrom": "Vote",
					"tableTo": "Chat",
					"columnsFrom": ["chatId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				},
				"Vote_messageId_Message_id_fk": {
					"name": "Vote_messageId_Message_id_fk",
					"tableFrom": "Vote",
					"tableTo": "Message",
					"columnsFrom": ["messageId"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {
				"Vote_chatId_messageId_pk": {
					"name": "Vote_chatId_messageId_pk",
					"columns": ["chatId", "messageId"]
				}
			},
			"uniqueConstraints": {}
		}
	},
	"enums": {},
	"schemas": {},
	"sequences": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
